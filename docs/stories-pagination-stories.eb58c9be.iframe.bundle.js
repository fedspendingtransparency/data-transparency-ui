"use strict";(self.webpackChunkdata_transparency_ui=self.webpackChunkdata_transparency_ui||[]).push([[8279],{"./.storybook/stories/pagination.stories.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{CustomResultsText:function(){return CustomResultsText},Default:function(){return Default},DefaultResultsText:function(){return DefaultResultsText},GoToPage:function(){return pagination_stories_GoToPage},LimitSelector:function(){return pagination_stories_LimitSelector},LimitSelectorAndGoToPage:function(){return LimitSelectorAndGoToPage},__namedExportsOrder:function(){return __namedExportsOrder},default:function(){return pagination_stories}});var react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),moneyFormatter=__webpack_require__("./helpers/moneyFormatter.js"),classCallCheck=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),createClass=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/createClass.js"),possibleConstructorReturn=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),getPrototypeOf=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),inherits=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/inherits.js"),range=__webpack_require__("./node_modules/lodash-es/range.js"),index_es=__webpack_require__("./node_modules/@fortawesome/react-fontawesome/index.es.js");function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}var propTypes={changePage:prop_types_default().func.isRequired,totalItems:prop_types_default().number.isRequired,currentPage:prop_types_default().number.isRequired,pageSize:prop_types_default().number.isRequired,hideLast:prop_types_default().bool},Pager=function(_React$Component){function Pager(){return(0,classCallCheck.A)(this,Pager),function _callSuper(t,o,e){return o=(0,getPrototypeOf.A)(o),(0,possibleConstructorReturn.A)(t,_isNativeReflectConstruct()?Reflect.construct(o,e||[],(0,getPrototypeOf.A)(t).constructor):o.apply(t,e))}(this,Pager,arguments)}return(0,inherits.A)(Pager,_React$Component),(0,createClass.A)(Pager,[{key:"getPager",value:function getPager(){var startPage,endPage,_this$props=this.props,totalItems=_this$props.totalItems,currentPage=_this$props.currentPage,pageSize=_this$props.pageSize,changePage=_this$props.changePage,hideLast=_this$props.hideLast,totalPages=Math.ceil(totalItems/pageSize),prevEllipses=react.createElement("li",{className:"pager__ellipsis"},"..."),nextEllipses=react.createElement("li",{className:"pager__ellipsis"},"..."),firstButton=react.createElement("li",{className:"pager__item"},react.createElement("button",{className:"pager__button",type:"button",onClick:function onClick(){return changePage(1)}},1)),lastButton=react.createElement("li",{className:"pager__item ".concat(hideLast?"hideLast":"")},react.createElement("button",{className:"pager__button",type:"button",onClick:function onClick(){return changePage(totalPages)}},(0,moneyFormatter.b$)(totalPages,0)));totalPages<5?(startPage=1,endPage=totalPages,prevEllipses="",nextEllipses="",firstButton="",lastButton=""):(startPage=currentPage-1,endPage=currentPage+1,currentPage<4?(prevEllipses="",firstButton="",1===currentPage?(startPage=currentPage,endPage=currentPage+2):3===currentPage&&(startPage=1,endPage=4)):currentPage>totalPages-3&&(nextEllipses="",lastButton="",currentPage===totalPages?(startPage=currentPage-2,endPage=currentPage):currentPage===totalPages-2&&(startPage=currentPage-1,endPage=totalPages)));var startIndex=(currentPage-1)*pageSize,endIndex=Math.min(startIndex+(pageSize-1),totalItems-1),pages=(0,range.A)(startPage,endPage+1);return{totalPages:totalPages,startPage:startPage,endPage:endPage,startIndex:startIndex,endIndex:endIndex,pages:pages,prevEllipses:prevEllipses,nextEllipses:nextEllipses,firstButton:firstButton,lastButton:lastButton}}},{key:"generatePageButtons",value:function generatePageButtons(pages){var _this=this,currentPage=this.props.currentPage;return pages.map((function(page,index){return react.createElement("li",{key:index,className:"pager__item"},react.createElement("button",{className:"pager__button ".concat(currentPage===page?"pager__button_active":""),type:"button",onClick:function onClick(){return _this.props.changePage(page)}},(0,moneyFormatter.b$)(page,0)))}))}},{key:"render",value:function render(){var _this$props2=this.props,currentPage=_this$props2.currentPage,changePage=_this$props2.changePage,pager=this.getPager(),pageButtons=this.generatePageButtons(pager.pages,pager.totalPages);return react.createElement("ul",{className:"pager"},react.createElement("li",{className:"pager__item"},react.createElement("button",{className:"pager__button ".concat(1===currentPage?"pager__button_disabled":""),type:"button",disabled:1===currentPage,onClick:function onClick(){return changePage(currentPage-1)},title:"Previous page"},react.createElement(index_es.g,{icon:"angle-left"}))),pager.firstButton,pager.prevEllipses,pageButtons,pager.nextEllipses,pager.lastButton,react.createElement("li",{className:"pager__item"},react.createElement("button",{className:"pager__button ".concat(currentPage===pager.totalPages?"pager__button_disabled":""),type:"button",disabled:currentPage===pager.totalPages,onClick:function onClick(){return changePage(currentPage+1)},title:"Next page"},react.createElement(index_es.g,{icon:"angle-right"}))))}}])}(react.Component);Pager.propTypes=propTypes,Pager.__docgenInfo={description:"",methods:[{name:"getPager",docblock:null,modifiers:[],params:[],returns:null},{name:"generatePageButtons",docblock:null,modifiers:[],params:[{name:"pages",optional:!1,type:null}],returns:null}],displayName:"Pager",props:{changePage:{description:"",type:{name:"func"},required:!0},totalItems:{description:"",type:{name:"number"},required:!0},currentPage:{description:"",type:{name:"number"},required:!0},pageSize:{description:"",type:{name:"number"},required:!0},hideLast:{description:"",type:{name:"bool"},required:!1}}};var LimitSelector_propTypes={changeLimit:prop_types_default().func.isRequired,pageSize:prop_types_default().number,limitList:prop_types_default().arrayOf(prop_types_default().number),label:prop_types_default().string},LimitSelector=function LimitSelector(_ref){var changeLimitProp=_ref.changeLimit,_ref$pageSize=_ref.pageSize,pageSize=void 0===_ref$pageSize?10:_ref$pageSize,_ref$limitList=_ref.limitList,limitList=void 0===_ref$limitList?[10,25,50,100]:_ref$limitList,label=_ref.label||"Rows per page: ",list=limitList.map((function(limit){return react.createElement("option",{key:"limit-".concat(limit),value:limit},limit)}));return react.createElement("div",{className:"usa-dt-pagination__limit-selector__wrapper"},react.createElement("label",null,label),react.createElement("select",{onChange:function changeLimit(e){e.preventDefault();var targetId=parseInt(e.target.value,10);changeLimitProp(targetId)},value:pageSize,className:"usa-dt-pagination__limit-selector","aria-label":"limit-dropdown"},list))};LimitSelector.propTypes=LimitSelector_propTypes;var pagination_LimitSelector=LimitSelector;LimitSelector.__docgenInfo={description:"",methods:[],displayName:"LimitSelector",props:{pageSize:{defaultValue:{value:"10",computed:!1},description:"",type:{name:"number"},required:!1},limitList:{defaultValue:{value:"[10, 25, 50, 100]",computed:!1},description:"",type:{name:"arrayOf",value:{name:"number"}},required:!1},changeLimit:{description:"",type:{name:"func"},required:!0},label:{description:"",type:{name:"string"},required:!1}}};var slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),GoToPage_propTypes={changePage:prop_types_default().func.isRequired,totalPages:prop_types_default().number,id:prop_types_default().string},GoToPage=function GoToPage(_ref){var changePageProp=_ref.changePage,_ref$totalPages=_ref.totalPages,totalPages=void 0===_ref$totalPages?1:_ref$totalPages,_ref$id=_ref.id,id=void 0===_ref$id?"usa-dt-pagination-go-to":_ref$id,_useState=(0,react.useState)(""),_useState2=(0,slicedToArray.A)(_useState,2),goToPage=_useState2[0],setGoToPage=_useState2[1],placeholder=totalPages>1?"1-".concat(totalPages):"1",validPage=function validPage(){return!(""===goToPage||parseInt(goToPage,10)<1||parseInt(goToPage,10)>totalPages)},changePage=function changePage(e){e.preventDefault(),validPage()&&changePageProp(parseInt(goToPage,10))};return react.createElement("form",{className:"usa-dt-pagination__go-to"},react.createElement("label",{htmlFor:"".concat(id,"-go-to")},"Go to page"),react.createElement("input",{type:"number",id:"".concat(id,"-go-to"),title:"Enter a number between 1 and ".concat(totalPages),min:"1",max:totalPages,placeholder:placeholder,value:goToPage,onChange:function changedInput(e){setGoToPage(e.target.value)},onSubmit:changePage}),react.createElement("button",{type:"submit",onClick:changePage,disabled:!validPage()},"Go"))};GoToPage.propTypes=GoToPage_propTypes;var pagination_GoToPage=GoToPage;GoToPage.__docgenInfo={description:"",methods:[],displayName:"GoToPage",props:{totalPages:{defaultValue:{value:"1",computed:!1},description:"",type:{name:"number"},required:!1},id:{defaultValue:{value:"'usa-dt-pagination-go-to'",computed:!1},description:"",type:{name:"string"},required:!1},changePage:{description:"",type:{name:"func"},required:!0}}};var Pagination_propTypes={changePage:prop_types_default().func.isRequired,totalItems:prop_types_default().number.isRequired,currentPage:prop_types_default().number,pageSize:prop_types_default().number,resultsText:prop_types_default().oneOfType([prop_types_default().bool,prop_types_default().element]),limitSelector:prop_types_default().bool,changeLimit:prop_types_default().func,goToPage:prop_types_default().bool,id:prop_types_default().string,hideLast:prop_types_default().bool};__webpack_require__("./styles/components/pagination/_pagination.scss");var Pagination=function Pagination(_ref){var changePage=_ref.changePage,totalItems=_ref.totalItems,_ref$currentPage=_ref.currentPage,currentPage=void 0===_ref$currentPage?1:_ref$currentPage,_ref$pageSize=_ref.pageSize,pageSize=void 0===_ref$pageSize?10:_ref$pageSize,_ref$resultsText=_ref.resultsText,resultsText=void 0!==_ref$resultsText&&_ref$resultsText,_ref$limitSelector=_ref.limitSelector,limitSelector=void 0!==_ref$limitSelector&&_ref$limitSelector,_ref$changeLimit=_ref.changeLimit,changeLimit=void 0===_ref$changeLimit?function(){}:_ref$changeLimit,_ref$goToPage=_ref.goToPage,goToPage=void 0!==_ref$goToPage&&_ref$goToPage,id=_ref.id,_ref$hideLast=_ref.hideLast,hideLast=void 0!==_ref$hideLast&&_ref$hideLast,totalPages=Math.ceil(totalItems/pageSize),limitSelect=limitSelector?react.createElement(pagination_LimitSelector,{changeLimit:changeLimit,pageSize:pageSize}):null,goTo=goToPage?react.createElement(pagination_GoToPage,{changePage:changePage,totalPages:totalPages,id:id}):null;return!limitSelector&&totalPages<=1?null:react.createElement("div",{className:"usa-dt-pagination"},function getResultsText(){if(react.isValidElement(resultsText))return resultsText;if(resultsText){var pageRange=function calculatePageRange(page,limit,count){var start=(page-1)*limit+1,end=page*limit;return page===Math.ceil(count/limit)&&(end=count),{start:start,end:end}}(currentPage,pageSize,totalItems),start=(0,moneyFormatter.b$)(pageRange.start,0),end=(0,moneyFormatter.b$)(pageRange.end,0),total=(0,moneyFormatter.b$)(totalItems,0);return react.createElement("div",{className:"usa-dt-pagination__totals"},"".concat(start,"-").concat(end," of ").concat(total," results"))}return null}(),react.createElement("div",{className:"usa-dt-pagination__wrapper"},limitSelect,react.createElement(Pager,{changePage:changePage,totalItems:totalItems,currentPage:currentPage,pageSize:pageSize,hideLast:hideLast}),goTo))};Pagination.propTypes=Pagination_propTypes;var pagination_Pagination=Pagination;Pagination.__docgenInfo={description:"",methods:[],displayName:"Pagination",props:{currentPage:{defaultValue:{value:"1",computed:!1},description:"",type:{name:"number"},required:!1},pageSize:{defaultValue:{value:"10",computed:!1},description:"",type:{name:"number"},required:!1},resultsText:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"union",value:[{name:"bool"},{name:"element"}]},required:!1},limitSelector:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},changeLimit:{defaultValue:{value:"() => {}",computed:!1},description:"",type:{name:"func"},required:!1},goToPage:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},hideLast:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},changePage:{description:"",type:{name:"func"},required:!0},totalItems:{description:"",type:{name:"number"},required:!0},id:{description:"",type:{name:"string"},required:!1}}};var misc=__webpack_require__("./.storybook/misc.jsx"),pagination_stories={parameters:{storySource:{source:"import React from 'react';\r\nimport Pagination from '../../components/pagination/Pagination';\r\nimport { PaginationWrapper } from '../misc';\r\n\r\nexport default {\r\n  title: 'Tables/Pagination',\r\n  component: Pagination,\r\n  tags: ['autodocs'],\r\n};\r\n\r\nexport const Default = (args) => (\r\n  <PaginationWrapper>\r\n    <Pagination {...args} />\r\n  </PaginationWrapper>\r\n);\r\n\r\nexport const DefaultResultsText = Default.bind({});\r\nDefaultResultsText.args = {\r\n  resultsText: true,\r\n}\r\n\r\nexport const CustomResultsText = Default.bind({});\r\nCustomResultsText.args = {\r\n  resultsText: <div className=\"usa-dt-pagination__totals\"><strong>Custom</strong> results text</div>\r\n}\r\n\r\nexport const LimitSelector = Default.bind({});\r\nLimitSelector.args = {\r\n  limitSelector: true,\r\n  resultsText: true,\r\n  pageSize: 50,\r\n  totalItems: 100\r\n}\r\nexport const LimitSelectorAndGoToPage = Default.bind({});\r\nLimitSelectorAndGoToPage.args = {\r\n  gotToPage: true,\r\n  id: \"sample-id-2\",\r\n  limitSelector: true,\r\n  resultsText: true,\r\n  pageSize: 10,\r\n  totalItems: 100\r\n}\r\n\r\nexport const GoToPage = Default.bind({});\r\nGoToPage.args = {\r\n  goToPage: true,\r\n  id: \"sample-id-2\",\r\n  pageSize: 10,\r\n  totalItems: 100\r\n};\r\n",locationsMap:{default:{startLoc:{col:23,line:11},endLoc:{col:1,line:15},startBody:{col:23,line:11},endBody:{col:1,line:15}},"default-results-text":{startLoc:{col:23,line:11},endLoc:{col:1,line:15},startBody:{col:23,line:11},endBody:{col:1,line:15}},"custom-results-text":{startLoc:{col:23,line:11},endLoc:{col:1,line:15},startBody:{col:23,line:11},endBody:{col:1,line:15}},"limit-selector":{startLoc:{col:23,line:11},endLoc:{col:1,line:15},startBody:{col:23,line:11},endBody:{col:1,line:15}},"limit-selector-and-go-to-page":{startLoc:{col:23,line:11},endLoc:{col:1,line:15},startBody:{col:23,line:11},endBody:{col:1,line:15}},"go-to-page":{startLoc:{col:23,line:11},endLoc:{col:1,line:15},startBody:{col:23,line:11},endBody:{col:1,line:15}}}}},title:"Tables/Pagination",component:pagination_Pagination,tags:["autodocs"]};const Default=args=>react.createElement(misc.Cg,null,react.createElement(pagination_Pagination,args)),DefaultResultsText=Default.bind({});DefaultResultsText.args={resultsText:!0};const CustomResultsText=Default.bind({});CustomResultsText.args={resultsText:react.createElement("div",{className:"usa-dt-pagination__totals"},react.createElement("strong",null,"Custom")," results text")};const pagination_stories_LimitSelector=Default.bind({});pagination_stories_LimitSelector.args={limitSelector:!0,resultsText:!0,pageSize:50,totalItems:100};const LimitSelectorAndGoToPage=Default.bind({});LimitSelectorAndGoToPage.args={gotToPage:!0,id:"sample-id-2",limitSelector:!0,resultsText:!0,pageSize:10,totalItems:100};const pagination_stories_GoToPage=Default.bind({});pagination_stories_GoToPage.args={goToPage:!0,id:"sample-id-2",pageSize:10,totalItems:100};const __namedExportsOrder=["Default","DefaultResultsText","CustomResultsText","LimitSelector","LimitSelectorAndGoToPage","GoToPage"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"args => <PaginationWrapper>\r\n    <Pagination {...args} />\r\n  </PaginationWrapper>",...Default.parameters?.docs?.source}}},DefaultResultsText.parameters={...DefaultResultsText.parameters,docs:{...DefaultResultsText.parameters?.docs,source:{originalSource:"args => <PaginationWrapper>\r\n    <Pagination {...args} />\r\n  </PaginationWrapper>",...DefaultResultsText.parameters?.docs?.source}}},CustomResultsText.parameters={...CustomResultsText.parameters,docs:{...CustomResultsText.parameters?.docs,source:{originalSource:"args => <PaginationWrapper>\r\n    <Pagination {...args} />\r\n  </PaginationWrapper>",...CustomResultsText.parameters?.docs?.source}}},pagination_stories_LimitSelector.parameters={...pagination_stories_LimitSelector.parameters,docs:{...pagination_stories_LimitSelector.parameters?.docs,source:{originalSource:"args => <PaginationWrapper>\r\n    <Pagination {...args} />\r\n  </PaginationWrapper>",...pagination_stories_LimitSelector.parameters?.docs?.source}}},LimitSelectorAndGoToPage.parameters={...LimitSelectorAndGoToPage.parameters,docs:{...LimitSelectorAndGoToPage.parameters?.docs,source:{originalSource:"args => <PaginationWrapper>\r\n    <Pagination {...args} />\r\n  </PaginationWrapper>",...LimitSelectorAndGoToPage.parameters?.docs?.source}}},pagination_stories_GoToPage.parameters={...pagination_stories_GoToPage.parameters,docs:{...pagination_stories_GoToPage.parameters?.docs,source:{originalSource:"args => <PaginationWrapper>\r\n    <Pagination {...args} />\r\n  </PaginationWrapper>",...pagination_stories_GoToPage.parameters?.docs?.source}}}},"./helpers/moneyFormatter.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Kx:function(){return formatMoneyWithPrecision},V0:function(){return calculateUnitForSingleValue},ZV:function(){return formatNumber},b$:function(){return formatNumberWithPrecision},pS:function(){return unitValues},up:function(){return formatMoney}});var accounting__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/accounting/accounting.js"),accounting__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(accounting__WEBPACK_IMPORTED_MODULE_0__),accountingOptions={symbol:"$",precision:0,format:{pos:"%s%v",neg:"-%s%v",zero:"%s%v"}},unitValues={TRILLION:1e12,BILLION:1e9,MILLION:1e6,THOUSAND:1e3},unitLabels_TRILLION="T",unitLabels_BILLION="B",unitLabels_MILLION="M",unitLabels_THOUSAND="k",unitWords_TRILLION="trillion",unitWords_BILLION="billion",unitWords_MILLION="million",unitWords_THOUSAND="thousand",formatMoney=function formatMoney(value){return accounting__WEBPACK_IMPORTED_MODULE_0___default().formatMoney(value,accountingOptions)},formatMoneyWithPrecision=function formatMoneyWithPrecision(value,precision){var modifiedOptions=Object.assign({},accountingOptions,{precision:precision});return accounting__WEBPACK_IMPORTED_MODULE_0___default().formatMoney(value,modifiedOptions)},calculateUnitForSingleValue=function calculateUnitForSingleValue(value){var adjustedValue=Math.abs(value),unit=1,unitLabel="",unitWord="";return adjustedValue>=unitValues.TRILLION?(unit=unitValues.TRILLION,unitLabel=unitLabels_TRILLION,unitWord=unitWords_TRILLION):adjustedValue>=unitValues.BILLION?(unit=unitValues.BILLION,unitLabel=unitLabels_BILLION,unitWord=unitWords_BILLION):adjustedValue>=unitValues.MILLION?(unit=unitValues.MILLION,unitLabel=unitLabels_MILLION,unitWord=unitWords_MILLION):adjustedValue>=unitValues.THOUSAND&&(unit=unitValues.THOUSAND,unitLabel=unitLabels_THOUSAND,unitWord=unitWords_THOUSAND),{unit:unit,unitLabel:unitLabel,longLabel:unitWord}},formatNumber=function formatNumber(number){var options=Object.assign({},accountingOptions,{symbol:""});return accounting__WEBPACK_IMPORTED_MODULE_0___default().formatMoney(number,options)},formatNumberWithPrecision=function formatNumberWithPrecision(number,precision){var options=Object.assign({},accountingOptions,{symbol:"",precision:precision});return accounting__WEBPACK_IMPORTED_MODULE_0___default().formatMoney(number,options)}},"./styles/components/pagination/_pagination.scss":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__)}}]);